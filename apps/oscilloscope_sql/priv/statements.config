{insert_metric,
 <<"INSERT INTO metrics"
   " (name, host, aggregation)"
   " VALUES ($2, $3, $4);">>}.

{insert_resolution,
 <<"INSERT INTO resolutions"
   " (metric_id, interval, count)"
   " VALUES ("
   "  (SELECT id FROM metrics WHERE name = $2 AND host = $3),"
   "  $4, $5);">>}.

{select_metric_aggregation,
 <<"SELECT aggregation FROM metrics"
   " WHERE name = $2 AND host = $3;">>}.

{select_metric_resolutions,
 <<"SELECT id, interval, count FROM resolutions"
   " WHERE metric_id ="
   " (SELECT id from metrics where name = $2 AND host = $3);">>}.

{select_metric_persists,
 <<"SELECT timestamp, count FROM persists"
   " WHERE resolution_id = $1;">>}.

{insert_persist,
 <<"INSERT INTO persists"
   " (resolution_id, timestamp, count) VALUES"
   " ($1, $2, $3);">>}.

{delete_persist,
 <<"DELETE FROM persists"
   " WHERE resolution_id = $1"
   " AND timestamp = $2;">>}.

{find_metrics,
 <<"SELECT name FROM metrics"
   " WHERE name LIKE $2">>}.
